import matplotlib.pyplot as plt
import math
import numpy as np

# Parameters
d = 35
e = 1.1023  # Adjust this as needed
g = 0.75

# Example temperature data (replace this with your actual data)
temperatures = [
20.536,
20.543,
20.566,
20.584,
20.588,
20.592,
20.604,
20.617,
20.627,
20.633,
20.633,
20.639,
20.651,
20.665,
20.675,
20.68,
20.673,
20.655,
20.635,
20.639,
20.648,
20.651,
20.653,
20.659,
20.67,
20.679,
20.683,
20.681,
20.677,
20.67,
20.671,
20.679,
20.689,
20.694,
20.695,
20.691,
20.687,
20.693,
20.701,
20.71,
20.722,
20.73,
20.739,
20.749,
20.754,
20.756,
20.756,
20.762,
20.769,
20.767,
20.788,
20.788,
20.793,
20.795,
20.797,
20.796,
20.788,
20.778,
20.77,
20.766,
20.762,
20.761,
20.76,
20.762,
20.768,
20.777,
20.796,
20.812,
20.822,
20.836,
20.837,
20.834,
20.832,
20.833,
20.834,
20.833,
20.826,
20.815,
20.814,
20.817,
20.82,
20.823,
20.818,
20.818,
20.821,
20.824,
20.825,
20.819,
20.81,
20.801,
20.792,
20.793,
20.798,
20.797,
20.794,
20.795,
20.79,
20.783,
20.774,
20.766,
20.761,
20.758,
20.757,
20.764,
20.772,
20.767,
20.763,
20.761,
20.762,
20.766,
20.76,
20.747,
20.738,
20.737,
20.733,
20.729,
20.726,
20.729,
20.727,
20.724,
20.712,
20.703,
20.699,
20.698,
20.699,
20.699,
20.692,
20.68,
20.668,
20.659,
20.649,
20.642,
20.641,
20.644,
20.65,
20.654,
20.653,
20.653,
20.655,
20.66,
20.662,
20.665,
20.665,
20.664,
20.663,
20.664,
20.669,
20.674,
20.673,
20.666,
20.664,
20.668,
20.666,
20.666,
20.675,
20.686,
20.691,
20.683,
20.674,
20.669,
20.667,
20.662,
20.653,
20.647,
20.641,
20.639,
20.639,
20.637,
20.63,
20.623,
20.617,
20.608,
20.6,
20.596,
20.597,
20.605,
20.607,
20.603,
20.599,
20.598,
20.597,
20.605,
20.613,
20.622,
20.623,
20.624,
20.626,
20.623,
20.617,
20.617,
20.618,
20.62,
20.625,
20.624,
20.619,
20.614,
20.615,
20.617,
20.622,
20.618,
20.615,
20.615,
20.624,
20.641,
20.66,
20.674,
20.682,
20.686,
20.688,
20.691,
20.692,
20.688,
20.686,
20.688,
20.692,
20.698,
20.706,
20.712,
20.708,
20.707,
20.704,
20.703,
20.708,
20.719,
20.727,
20.734,
20.732,
20.724,
20.719,
20.719,
20.723,
20.729,
20.731,
20.728,
20.733,
20.736,
20.738,
20.739,
20.74,
20.74,
20.742,
20.744,
20.745,
20.743,
20.734,
20.726,
20.721,
20.714,
20.704,
20.696,
20.695,
20.7,
20.707,
20.707,
20.708,
20.704,
20.7,
20.691,
20.682,
20.672,
20.661,
20.651,
20.642,
20.641,
20.633,
20.624,
20.611,
20.601,
20.596,
20.593,
20.587,
20.577,
20.572,
20.565,
20.559,
20.552,
20.545,
20.536,
20.525,
20.518,
20.521,
20.529,
20.532,
20.526,
20.516,
20.51,
20.514,
20.518,
20.522,
20.527,
20.528,
20.519,
20.51,
20.503,
20.502,
20.501,
20.498,
20.494,
20.487,
20.481,
20.481,
20.477,
20.465,
20.453,
20.448,
20.454,
20.464,
20.467,
20.473,
20.482,
20.488,
20.489,
20.482,
20.481,
20.472,
20.467,
20.457,
20.446,
20.436,
20.436,
20.433,
20.427,
20.421,
20.42,
20.419,
20.42,
20.423,
20.434,
20.447,
20.46,
20.473,
20.494,
20.505,
20.514,
20.518,
20.52,
20.513,
20.508,
20.507,
20.507,
20.506,
20.509,
20.521,
20.537,
20.531,
20.522,
20.519,
20.522,
20.527,
20.531,
20.534,
20.541,
20.546,
20.555,
20.562,
20.559,
20.557,
20.56,
20.563,
20.559,
20.542,
20.531,
20.532,
20.54,
20.546,
20.553,
20.555,
20.547,
20.543,
20.534,
20.53,
20.535,
20.55,
20.578,
20.6,
20.621,
20.643,
20.648,
20.65,
20.652,
20.655,
20.665,
20.679,
20.689,
20.701,
20.706,
20.714,
20.718,
20.709,
20.699,
20.698,
20.702,
20.706,
20.718,
20.726,
20.723,
20.719,
20.725,
20.739,
20.754,
20.767,
20.778,
20.784,
20.783,
20.785,
20.784,
20.789,
20.798,
20.797,
20.789,
20.786,
20.79,
20.798,
20.815,
20.829,
20.833,
20.837,
20.837,
20.841,
20.843,
20.845,
20.846,
20.852,
20.863,
20.868,
20.875,
20.876,
20.878,
20.877,
20.879,
20.88,
20.886,
20.895,
20.914,
20.933,
20.95,
20.965,
20.977,
20.991,
21.004,
21.003,
21.005,
20.999,
20.994,
20.989,
20.988,
20.997,
21.006,
21.011,
21.01,
21.012,
21.015,
21.023,
21.034,
21.042,
21.049,
21.052,
21.052,
21.049,
21.046,
21.041,
21.037,
21.037,
21.031,
21.027,
21.025,
21.02,
21.017,
21.012,
21.006,
21.002,
21.002,
20.995,
20.989,
20.985,
20.986,
20.987,
21,
20.99,
20.978,
20.971,
20.964,
20.957,
20.951,
20.941,
20.933,
20.924,
20.92,
20.918,
20.92,
20.921,
20.921,
20.923,
20.923,
20.921,
20.927,
20.934,
20.92,
20.91,
20.902,
20.898,
20.891,
20.867,
20.862,
20.867,
20.868,
20.869,
20.867,
20.862,
20.857,
20.853,
20.86,
20.848,
20.841,
20.843,
20.84,
20.837,
20.838,
20.843,
20.848,
20.852,
20.86,
20.866,
20.871,
20.878,
20.882,
20.878,
20.872,
20.867,
20.863,
20.861,
20.865,
20.866,
20.868,
20.873,
20.88,
20.878,
20.878,
20.877,
20.881,
20.883,
20.89,
20.869,
20.861,
20.864,
20.87,
20.875,
20.885,
20.896,
20.907,
20.908,
20.911,
20.908,
20.902,
20.904,
20.914,
20.925,
20.937,
20.95,
20.957,
20.965,
20.969,
20.975,
20.989,
21.001,
21.016,
21.016,
21.017,
21.013,
21.014,
21.017,
21.011,
21.01,
21.016,
21.021,
21.026,
21.026,
21.027,
21.026,
21.031,
21.035,
21.04,
21.041,
21.038,
21.04,
21.034,
21.031,
21.032,
21.037,
21.047,
21.054,
21.061,
21.06,
21.061,
21.065,
21.075,
21.08,
21.081,
21.086,
21.092,
21.095,
21.092,
21.087,
21.084,
21.076,
21.067,
21.058,
21.051,
21.039,
21.035,
21.032,
21.034,
21.045,
21.048,
21.047,
21.054,
21.061,
21.048,
21.038,
21.033,
21.026,
21.018,
21.002,
20.982,
20.972,
20.967,
20.969,
20.974,
20.975,
20.973,
20.967,
20.953,
20.936,
20.926,
20.93,
20.92,
20.934,
20.918,
20.894,
20.876,
20.862,
20.856,
20.851,
20.848,
20.848,
20.85,
20.849,
20.85,
20.857,
20.863,
20.869,
20.876,
20.882,
20.89,
20.887,
20.881,
20.876,
20.868,
20.858,
20.846,
20.838,
20.831,
20.824,
20.817,
20.804,
20.79,
20.784,
20.784,
20.789,
20.801,
20.81,
20.815,
20.814,
20.812,
20.807,
20.796,
20.785,
20.767,
20.757,
20.754,
20.751,
20.753,
20.765,
20.771,
20.775,
20.78,
20.781,
20.786,
20.791,
20.795,
20.806,
20.808,
20.809,
20.808,
20.807,
20.81,
20.812,
20.824,
20.826,
20.819,
20.814,
20.812,
20.802,
20.802,
20.814,
20.82,
20.82,
20.821,
20.811,
20.803,
20.789,
20.779,
20.786,
20.798,
20.819,
20.844,
20.838,
20.838,
20.852,
20.859,
20.867,
20.872,
20.874,
20.88,
20.886,
20.889,
20.895,
20.907,
20.917,
20.929,
20.944,
20.957,
20.977,
21,
21.019,
21.03,
21.033,
21.035,
21.04,
21.046,
21.057,
21.059,
21.054,
21.044,
21.034,
21.028,
21.018,
21.018,
21.03,
21.037,
21.029,
21.018,
21.008,
21.004,
21.001,
21,
21.005,
21.013,
21.028,
21.057,
21.086,
21.11,
21.105,
21.097,
21.101,
21.106,
21.105,
21.1,
21.099,
21.112,
21.095,
21.071,
21.061,
21.06,
21.063,
21.064,
21.061,
21.065,
21.077,
21.072,
21.087,
21.101,
21.092,
21.093,
21.103,
21.113,
21.126,
21.14,
21.153,
21.165,
21.168,
21.16,
21.153,
21.15,
21.148,
21.15,
21.148,
21.14,
21.136,
21.131,
21.12,
21.113,
21.114,
21.102,
21.104,
21.107,
21.106,
21.112,
21.12,
21.124,
21.121,
21.117,
21.118,
21.119,
21.122,
21.125,
21.126,
21.133,
21.139,
21.147,
21.155,
21.14,
21.134,
21.135,
21.136,
21.14,
21.148,
21.153,
21.149,
21.138,
21.126,
21.111,
21.107,
21.109,
21.115,
21.118,
21.12,
21.127,
21.139,
21.148,
21.158,
21.163,
21.161,
21.168,
21.173,
21.162,
21.148,
21.146,
21.134,
21.122,
21.103,
21.088,
21.086,
21.094,
21.071,
21.054,
21.049,
21.055,
21.054,
21.03,
21.016,
21.002,
20.987,
20.977,
20.969,
20.964,
20.959,
20.956,
20.956,
20.953,
20.95,
20.949,
20.947,
20.947,
20.947,
20.949,
20.953,
20.955,
20.952,
20.954,
20.954,
20.952,
20.949,
20.939,
20.935,
20.942,
20.94,
20.938,
20.939,
20.932,
20.923,
20.917,
20.915,
20.919,
20.93,
20.927,
20.934,
20.943,
20.948,
20.95,
20.942,
20.936,
20.923,
20.91,
20.909,
20.906,
20.903,
20.896,
20.894,
20.891,
20.892,
20.896,
20.901,
20.902,
20.904,
20.918,
20.933,
20.946,
20.954,
20.956,
20.962,
20.978,
20.987,
20.98,
20.959,
20.952,
20.958,
20.969,
20.967,
20.969,
20.968,
20.969,
20.964,
20.955,
20.95,
20.947,
20.94,
20.934,
20.933,
20.938,
20.945,
20.95,
20.953,
20.955,
20.957,
20.963,
20.97,
20.973,
20.978,
20.982,
20.984,
20.984,
20.977,
20.977,
20.975,
20.978,
20.992,
20.993,
20.983,
20.978,
20.985,
20.976,
20.968,
20.956,
20.952,
20.95,
20.949,
20.952,
20.957,
20.958,
20.954,
20.953,
20.951,
20.945,
20.949,
20.953,
20.951,
20.947,
20.948,
20.951,
20.955,
20.954,
20.944,
20.932,
20.917,
20.892,
20.898,
20.913,
20.919,
20.927,
20.925,
20.922,
20.923,
20.927,
20.926,
20.92,
20.911,
20.906,
20.901,
20.903,
20.914,
20.911,
20.906,
20.898,
20.882,
20.869,
20.855,
20.848,
20.85,
20.848,
20.832,
20.832,
20.838,
20.835,
20.829,
20.817,
20.81,
20.806,
20.803,
20.796,
20.791,
20.79,
20.776,
20.758,
20.747,
20.736,
20.731,
20.728,
20.724,
20.724,
20.735,
20.738,
20.745,
20.749,
20.747,
20.738,
20.728,
20.716,
20.713,
20.707,
20.691,
20.678,
20.667,
20.655,
20.644,
20.644,
20.652,
20.666,
20.675,
20.676,
20.676,
20.667,
20.652,
20.645,
20.655,
20.676,
20.704,
20.711,
20.687,
20.682,
20.677,
20.668,
20.662,
20.657,
20.653,
20.656,
20.656,
20.67,
20.662,
20.662,
20.651,
20.637,
20.643,
20.647,
20.689,
20.658,
20.664,
20.672,
20.675,
20.667,
20.671,
]

avg_temperature = np.mean(temperatures)
print(f"Average Temperature: {avg_temperature}")

# Determine the number of days based on the length of the temperatures list
days = len(temperatures)

# Compute emissions
endcoin_emissions = [math.exp(e * (d - T)) - 1 for T in temperatures]
gaiacoin_emissions = [math.exp(g * T) - 1 for T in temperatures]

# Calculate total emissions over all days
total_endcoin = sum(endcoin_emissions)
total_gaiacoin = sum(gaiacoin_emissions)

# Print total emissions
print(f"Total Endcoin emitted over {days} days: {total_endcoin}")
print(f"Total Gaiacoin emitted over {days} days: {total_gaiacoin}")

time = np.arange(1, days + 1)

# Plot daily emissions and temperature
fig, ax1 = plt.subplots(figsize=(12, 6))
ax1.plot(time, endcoin_emissions, label='Endcoin Daily Emission', alpha=0.7, color='blue')
ax1.plot(time, gaiacoin_emissions, label='Gaiacoin Daily Emission', alpha=0.7, color='orange')
ax1.set_title('Daily Emissions Over Time')
ax1.set_xlabel('Day')
ax1.set_ylabel('Tokens per Day')
ax1.grid(True)

ax2 = ax1.twinx()
ax2.plot(time, temperatures, label='Temperature (°C)', color='red', alpha=0.5, linestyle = "dotted")
ax2.set_ylabel('Temperature (°C)')

# Combine legends from both axes
lines_1, labels_1 = ax1.get_legend_handles_labels()
lines_2, labels_2 = ax2.get_legend_handles_labels()
ax1.legend(lines_1 + lines_2, labels_1 + labels_2, loc='upper right')

plt.tight_layout()
plt.show()

# Compute cumulative totals for each token
endcoin_cumulative = np.cumsum(endcoin_emissions)
gaiacoin_cumulative = np.cumsum(gaiacoin_emissions)

# Plot cumulative totals
fig2, ax3 = plt.subplots(figsize=(12, 6))
ax3.plot(time, endcoin_cumulative, label='Endcoin Cumulative Total', alpha=0.7, color='blue')
ax3.plot(time, gaiacoin_cumulative, label='Gaiacoin Cumulative Total', alpha=0.7, color='orange')
ax3.set_title('Cumulative Totals of Emissions Over Time')
ax3.set_xlabel('Day')
ax3.set_ylabel('Total Tokens')
ax3.grid(True)
ax3.legend()

plt.tight_layout()
plt.show()